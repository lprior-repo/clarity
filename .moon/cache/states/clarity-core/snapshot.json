{"config":{"schema":"https://moonrepo.dev/schemas/project.json","dependsOn":[],"docker":{"file":{"buildTask":null,"image":null,"startTask":null},"scaffold":{"include":[]}},"env":{},"fileGroups":{},"id":null,"language":"unknown","layer":"unknown","owners":{"customGroups":{},"defaultOwner":null,"optional":false,"paths":[],"requiredApprovals":null},"platform":null,"project":null,"stack":"unknown","tags":[],"tasks":{},"toolchain":{"default":null,"bun":null,"deno":null,"python":null,"node":null,"rust":null,"plugins":{}},"workspace":{"inheritedTasks":{"exclude":[],"include":null,"rename":{}}}},"id":"clarity-core","inherited":{"order":["*","rust"],"config":{"schema":"https://moonrepo.dev/schemas/tasks.json","extends":null,"fileGroups":{},"implicitDeps":[],"implicitInputs":[],"tasks":{"build":{"extends":null,"description":"Build all crates (debug mode)","command":"cargo build --workspace","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"build-client":{"extends":null,"description":"Build clarity-client","command":"cargo build -p clarity-client","args":null,"deps":null,"env":{"CLARITY_CORE_PATH":"../clarity-core"},"globalInputs":[],"inputs":[{"glob":"clarity-client/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"build-core":{"extends":null,"description":"Build clarity-core","command":"cargo build -p clarity-core","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-core/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"build-server":{"extends":null,"description":"Build clarity-server","command":"cargo build -p clarity-server","args":null,"deps":null,"env":{"CLARITY_CORE_PATH":"../clarity-core"},"globalInputs":[],"inputs":[{"glob":"clarity-server/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"check":{"extends":null,"description":"Fast type check without building (excludes integration-tests)","command":"cargo check --workspace --all-targets","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"ci":{"extends":null,"description":"Run full CI pipeline (format, lint, test)","command":null,"args":null,"deps":["~:fmt","~:clippy","~:test","~:test-doc"],"env":null,"globalInputs":[],"inputs":null,"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":true,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"client":{"extends":null,"description":"Run the Dioxus client","command":"cargo run -p clarity-client","args":null,"deps":["~:build-client"],"env":null,"globalInputs":[],"inputs":null,"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"clippy":{"extends":null,"description":"Lint with Clippy (strict mode, excludes integration-tests)","command":"cargo clippy --workspace --all-targets -- -D warnings","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"file":".clippy.toml"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":true,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"db-migrate":{"extends":null,"description":"Run database migrations","command":"sqlx migrate run","args":null,"deps":null,"env":{"DATABASE_URL":"postgresql://localhost/clarity"},"globalInputs":[],"inputs":[{"glob":"clarity-core/migrations/**/*.sql","cache":true},{"file":"Cargo.toml"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"db-migrate-add":{"extends":null,"description":"Create new migration","command":"sqlx migrate add","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":null,"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"fmt":{"extends":null,"description":"Check code formatting (rustfmt)","command":"cargo fmt --all --check","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"rustfmt.toml"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":true,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"fmt-fix":{"extends":null,"description":"Auto-fix code formatting","command":"cargo fmt --all","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":null,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"pgo-build":{"extends":null,"description":"Complete PGO workflow: instrument, profile, and optimize","command":null,"args":null,"deps":["~:pgo-instrument","~:pgo-profile","~:pgo-optimize"],"env":null,"globalInputs":[],"inputs":null,"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"pgo-instrument":{"extends":null,"description":"Build with PGO instrumentation (step 1 of PGO workflow)","command":"cargo build --workspace --profile pgo-instrument","args":null,"deps":null,"env":{"CARGO_PROFILE_PGO_INSTRUMENT_OVERRIDE_RUSTFLAGS":"-C profile-generate=pgo-data"},"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"file":".cargo/config.toml"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"pgo-optimize":{"extends":null,"description":"Build optimized binary using PGO profile data (step 3)","command":"cargo build --workspace --profile pgo-optimized","args":null,"deps":null,"env":{"CARGO_PROFILE_PGO_OPTIMIZED_OVERRIDE_RUSTFLAGS":"-C profile-use=pgo-data -C llvm-args=-pgo-warn-missing-function"},"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"pgo-data/**/*.profraw","cache":true}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"pgo-profile":{"extends":null,"description":"Run representative workload for PGO profiling (step 2)","command":"sh .moon/scripts/pgo-workload.sh","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":null,"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"quick":{"extends":null,"description":"Fast format + lint check (cached, excludes integration-tests)","command":"cargo fmt --all --check && cargo clippy --workspace --all-targets -- -D warnings","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"release":{"extends":null,"description":"Build release binaries","command":"cargo build --workspace --release","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"release-ci":{"extends":null,"description":"Build release binaries with thin LTO (faster for CI)","command":"cargo build --workspace --profile ci","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"server":{"extends":null,"description":"Run the Axum server","command":"cargo run -p clarity-server","args":null,"deps":["~:build-server"],"env":null,"globalInputs":[],"inputs":null,"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":false,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"test":{"extends":null,"description":"Run all tests","command":"cargo test --workspace --all-features","args":null,"deps":null,"env":{"CARGO_BUILD_JOBS":"8"},"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"glob":"clarity-*/tests/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":true,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"test-doc":{"extends":null,"description":"Run documentation tests","command":"cargo test --doc --workspace","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":true,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null},"test-unit":{"extends":null,"description":"Run unit tests only","command":"cargo test --workspace --lib","args":null,"deps":null,"env":null,"globalInputs":[],"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"local":null,"outputs":null,"options":{"affectedFiles":null,"affectedPassInputs":null,"allowFailure":null,"cache":true,"cacheKey":null,"cacheLifetime":null,"envFile":null,"inferInputs":null,"interactive":null,"internal":null,"merge":null,"mergeArgs":null,"mergeDeps":null,"mergeEnv":null,"mergeInputs":null,"mergeOutputs":null,"mutex":null,"os":null,"outputStyle":null,"persistent":null,"priority":null,"retryCount":null,"runDepsInParallel":null,"runInCI":false,"runFromWorkspaceRoot":null,"shell":null,"timeout":null,"unixShell":null,"windowsShell":null},"platform":"unknown","preset":null,"script":null,"toolchain":[],"type":null}},"taskOptions":null},"layers":{".moon/tasks.yml":{"$schema":"https://moonrepo.dev/schemas/tasks.json","tasks":{"build":{"description":"Build all crates (debug mode)","command":"cargo build --workspace","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"build-client":{"description":"Build clarity-client","command":"cargo build -p clarity-client","env":{"CLARITY_CORE_PATH":"../clarity-core"},"inputs":[{"glob":"clarity-client/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"build-core":{"description":"Build clarity-core","command":"cargo build -p clarity-core","inputs":[{"glob":"clarity-core/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"build-server":{"description":"Build clarity-server","command":"cargo build -p clarity-server","env":{"CLARITY_CORE_PATH":"../clarity-core"},"inputs":[{"glob":"clarity-server/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"check":{"description":"Fast type check without building (excludes integration-tests)","command":"cargo check --workspace --all-targets","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"ci":{"description":"Run full CI pipeline (format, lint, test)","deps":["~:fmt","~:clippy","~:test","~:test-doc"],"options":{"cache":true,"runInCI":true}},"client":{"description":"Run the Dioxus client","command":"cargo run -p clarity-client","deps":["~:build-client"],"options":{"cache":false,"runInCI":false}},"clippy":{"description":"Lint with Clippy (strict mode, excludes integration-tests)","command":"cargo clippy --workspace --all-targets -- -D warnings","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"file":".clippy.toml"}],"options":{"cache":true,"runInCI":true}},"db-migrate":{"description":"Run database migrations","command":"sqlx migrate run","env":{"DATABASE_URL":"postgresql://localhost/clarity"},"inputs":[{"glob":"clarity-core/migrations/**/*.sql","cache":true},{"file":"Cargo.toml"}],"options":{"cache":false,"runInCI":false}},"db-migrate-add":{"description":"Create new migration","command":"sqlx migrate add","options":{"cache":false,"runInCI":false}},"fmt":{"description":"Check code formatting (rustfmt)","command":"cargo fmt --all --check","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"rustfmt.toml"}],"options":{"cache":true,"runInCI":true}},"fmt-fix":{"description":"Auto-fix code formatting","command":"cargo fmt --all","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"}],"options":{"cache":false}},"pgo-build":{"description":"Complete PGO workflow: instrument, profile, and optimize","deps":["~:pgo-instrument","~:pgo-profile","~:pgo-optimize"],"options":{"cache":false,"runInCI":false}},"pgo-instrument":{"description":"Build with PGO instrumentation (step 1 of PGO workflow)","command":"cargo build --workspace --profile pgo-instrument","env":{"CARGO_PROFILE_PGO_INSTRUMENT_OVERRIDE_RUSTFLAGS":"-C profile-generate=pgo-data"},"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"file":".cargo/config.toml"}],"options":{"cache":false,"runInCI":false}},"pgo-optimize":{"description":"Build optimized binary using PGO profile data (step 3)","command":"cargo build --workspace --profile pgo-optimized","env":{"CARGO_PROFILE_PGO_OPTIMIZED_OVERRIDE_RUSTFLAGS":"-C profile-use=pgo-data -C llvm-args=-pgo-warn-missing-function"},"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"pgo-data/**/*.profraw","cache":true}],"options":{"cache":false,"runInCI":false}},"pgo-profile":{"description":"Run representative workload for PGO profiling (step 2)","command":"sh .moon/scripts/pgo-workload.sh","options":{"cache":false,"runInCI":false}},"quick":{"description":"Fast format + lint check (cached, excludes integration-tests)","command":"cargo fmt --all --check && cargo clippy --workspace --all-targets -- -D warnings","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"release":{"description":"Build release binaries","command":"cargo build --workspace --release","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"release-ci":{"description":"Build release binaries with thin LTO (faster for CI)","command":"cargo build --workspace --profile ci","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}},"server":{"description":"Run the Axum server","command":"cargo run -p clarity-server","deps":["~:build-server"],"options":{"cache":false,"runInCI":false}},"test":{"description":"Run all tests","command":"cargo test --workspace --all-features","env":{"CARGO_BUILD_JOBS":"8"},"inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"glob":"clarity-*/tests/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":true}},"test-doc":{"description":"Run documentation tests","command":"cargo test --doc --workspace","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":true}},"test-unit":{"description":"Run unit tests only","command":"cargo test --workspace --lib","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"}],"options":{"cache":true,"runInCI":false}}}}},"taskLayers":{"db-migrate-add":[".moon/tasks.yml"],"pgo-build":[".moon/tasks.yml"],"quick":[".moon/tasks.yml"],"fmt-fix":[".moon/tasks.yml"],"ci":[".moon/tasks.yml"],"build":[".moon/tasks.yml"],"build-server":[".moon/tasks.yml"],"fmt":[".moon/tasks.yml"],"test-unit":[".moon/tasks.yml"],"release-ci":[".moon/tasks.yml"],"pgo-profile":[".moon/tasks.yml"],"build-core":[".moon/tasks.yml"],"client":[".moon/tasks.yml"],"clippy":[".moon/tasks.yml"],"db-migrate":[".moon/tasks.yml"],"pgo-instrument":[".moon/tasks.yml"],"test-doc":[".moon/tasks.yml"],"build-client":[".moon/tasks.yml"],"pgo-optimize":[".moon/tasks.yml"],"release":[".moon/tasks.yml"],"server":[".moon/tasks.yml"],"check":[".moon/tasks.yml"],"test":[".moon/tasks.yml"]}},"language":"rust","layer":"unknown","platform":"unknown","root":"/home/lewis/src/clarity/clarity-core","source":"clarity-core","stack":"unknown","tasks":{"build":{"args":["build","--workspace"],"command":"cargo","description":"Build all crates (debug mode)","id":"build","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:build","toolchains":["rust"],"type":"test"},"build-client":{"args":["build","-p","clarity-client"],"command":"cargo","description":"Build clarity-client","env":{"CLARITY_CORE_PATH":"../clarity-core"},"id":"build-client","inputs":[{"glob":"clarity-client/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-client/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:build-client","toolchains":["rust"],"type":"test"},"build-core":{"args":["build","-p","clarity-core"],"command":"cargo","description":"Build clarity-core","id":"build-core","inputs":[{"glob":"clarity-core/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-core/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:build-core","toolchains":["rust"],"type":"test"},"build-server":{"args":["build","-p","clarity-server"],"command":"cargo","description":"Build clarity-server","env":{"CLARITY_CORE_PATH":"../clarity-core"},"id":"build-server","inputs":[{"glob":"clarity-server/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-server/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:build-server","toolchains":["rust"],"type":"test"},"check":{"args":["check","--workspace","--all-targets"],"command":"cargo","description":"Fast type check without building (excludes integration-tests)","id":"check","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:check","toolchains":["rust"],"type":"test"},"ci":{"command":"noop","deps":[{"args":null,"env":{},"target":"clarity-core:fmt","optional":null},{"args":null,"env":{},"target":"clarity-core:clippy","optional":null},{"args":null,"env":{},"target":"clarity-core:test","optional":null},{"args":null,"env":{},"target":"clarity-core:test-doc","optional":null}],"description":"Run full CI pipeline (format, lint, test)","id":"ci","inputs":[{"glob":"**/*","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputGlobs":{"clarity-core/**/*":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":true,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"defaultInputs":true,"expanded":true},"target":"clarity-core:ci","toolchains":["rust"],"type":"test"},"client":{"args":["run","-p","clarity-client"],"command":"cargo","deps":[{"args":null,"env":{},"target":"clarity-core:build-client","optional":null}],"description":"Run the Dioxus client","id":"client","inputs":[{"glob":"**/*","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputGlobs":{"clarity-core/**/*":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"defaultInputs":true,"expanded":true},"target":"clarity-core:client","toolchains":["rust"],"type":"test"},"clippy":{"args":["clippy","--workspace","--all-targets","--","-D","warnings"],"command":"cargo","description":"Lint with Clippy (strict mode, excludes integration-tests)","id":"clippy","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"file":".clippy.toml"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"clarity-core/.clippy.toml":{},"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":true,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:clippy","toolchains":["rust"],"type":"test"},"db-migrate":{"args":["migrate","run"],"command":"sqlx","description":"Run database migrations","env":{"DATABASE_URL":"postgresql://localhost/clarity"},"id":"db-migrate","inputs":[{"glob":"clarity-core/migrations/**/*.sql","cache":true},{"file":"Cargo.toml"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-core/migrations/**/*.sql":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:db-migrate","toolchains":["rust"],"type":"test"},"db-migrate-add":{"args":["migrate","add"],"command":"sqlx","description":"Create new migration","id":"db-migrate-add","inputs":[{"glob":"**/*","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputGlobs":{"clarity-core/**/*":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"defaultInputs":true,"expanded":true},"target":"clarity-core:db-migrate-add","toolchains":["rust"],"type":"test"},"fmt":{"args":["fmt","--all","--check"],"command":"cargo","description":"Check code formatting (rustfmt)","id":"fmt","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"rustfmt.toml"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"clarity-core/rustfmt.toml":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":true,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:fmt","toolchains":["rust"],"type":"test"},"fmt-fix":{"args":["fmt","--all"],"command":"cargo","description":"Auto-fix code formatting","id":"fmt-fix","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":"affected","runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:fmt-fix","toolchains":["rust"],"type":"test"},"pgo-build":{"command":"noop","deps":[{"args":null,"env":{},"target":"clarity-core:pgo-instrument","optional":null},{"args":null,"env":{},"target":"clarity-core:pgo-profile","optional":null},{"args":null,"env":{},"target":"clarity-core:pgo-optimize","optional":null}],"description":"Complete PGO workflow: instrument, profile, and optimize","id":"pgo-build","inputs":[{"glob":"**/*","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputGlobs":{"clarity-core/**/*":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"defaultInputs":true,"expanded":true},"target":"clarity-core:pgo-build","toolchains":["rust"],"type":"test"},"pgo-instrument":{"args":["build","--workspace","--profile","pgo-instrument"],"command":"cargo","description":"Build with PGO instrumentation (step 1 of PGO workflow)","env":{"CARGO_PROFILE_PGO_INSTRUMENT_OVERRIDE_RUSTFLAGS":"-C profile-generate=pgo-data"},"id":"pgo-instrument","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"file":".cargo/config.toml"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"clarity-core/Cargo.toml":{},"Cargo.lock":{},"clarity-core/.cargo/config.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:pgo-instrument","toolchains":["rust"],"type":"test"},"pgo-optimize":{"args":["build","--workspace","--profile","pgo-optimized"],"command":"cargo","description":"Build optimized binary using PGO profile data (step 3)","env":{"CARGO_PROFILE_PGO_OPTIMIZED_OVERRIDE_RUSTFLAGS":"-C profile-use=pgo-data -C llvm-args=-pgo-warn-missing-function"},"id":"pgo-optimize","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"pgo-data/**/*.profraw","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{".moon/*.{pkl,yml}":{"cache":true},"clarity-core/clarity-*/src/**/*.rs":{"cache":true},"clarity-core/pgo-data/**/*.profraw":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:pgo-optimize","toolchains":["rust"],"type":"test"},"pgo-profile":{"args":[".moon/scripts/pgo-workload.sh"],"command":"sh","description":"Run representative workload for PGO profiling (step 2)","id":"pgo-profile","inputs":[{"glob":"**/*","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputGlobs":{"clarity-core/**/*":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"defaultInputs":true,"expanded":true},"target":"clarity-core:pgo-profile","toolchains":["rust"],"type":"test"},"quick":{"args":["fmt","--all","--check","&&","cargo","clippy","--workspace","--all-targets","--","-D","warnings"],"command":"cargo","description":"Fast format + lint check (cached, excludes integration-tests)","id":"quick","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:quick","toolchains":["rust"],"type":"test"},"release":{"args":["build","--workspace","--release"],"command":"cargo","description":"Build release binaries","id":"release","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:release","toolchains":["rust"],"type":"test"},"release-ci":{"args":["build","--workspace","--profile","ci"],"command":"cargo","description":"Build release binaries with thin LTO (faster for CI)","id":"release-ci","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:release-ci","toolchains":["rust"],"type":"test"},"server":{"args":["run","-p","clarity-server"],"command":"cargo","deps":[{"args":null,"env":{},"target":"clarity-core:build-server","optional":null}],"description":"Run the Axum server","id":"server","inputs":[{"glob":"**/*","cache":true},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputGlobs":{"clarity-core/**/*":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":false,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"defaultInputs":true,"expanded":true},"target":"clarity-core:server","toolchains":["rust"],"type":"test"},"test":{"args":["test","--workspace","--all-features"],"command":"cargo","description":"Run all tests","env":{"CARGO_BUILD_JOBS":"8"},"id":"test","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"glob":"clarity-*/tests/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/tests/**/*.rs":{"cache":true},"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":true,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:test","toolchains":["rust"],"type":"test"},"test-doc":{"args":["test","--doc","--workspace"],"command":"cargo","description":"Run documentation tests","id":"test-doc","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":true,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:test-doc","toolchains":["rust"],"type":"test"},"test-unit":{"args":["test","--workspace","--lib"],"command":"cargo","description":"Run unit tests only","id":"test-unit","inputs":[{"glob":"clarity-*/src/**/*.rs","cache":true},{"file":"Cargo.toml"},{"file":"/Cargo.lock"},{"glob":"/.moon/*.{pkl,yml}","cache":true}],"inputFiles":{"Cargo.lock":{},"clarity-core/Cargo.toml":{}},"inputGlobs":{"clarity-core/clarity-*/src/**/*.rs":{"cache":true},".moon/*.{pkl,yml}":{"cache":true}},"options":{"affectedPassInputs":false,"allowFailure":false,"cache":true,"inferInputs":true,"internal":false,"interactive":false,"mergeArgs":"append","mergeDeps":"append","mergeEnv":"append","mergeInputs":"append","mergeOutputs":"append","persistent":false,"priority":"normal","retryCount":0,"runDepsInParallel":true,"runInCI":false,"runFromWorkspaceRoot":false,"shell":true},"platform":"unknown","state":{"expanded":true},"target":"clarity-core:test-unit","toolchains":["rust"],"type":"test"}},"taskTargets":["clarity-core:build","clarity-core:build-client","clarity-core:build-core","clarity-core:build-server","clarity-core:check","clarity-core:ci","clarity-core:client","clarity-core:clippy","clarity-core:db-migrate","clarity-core:db-migrate-add","clarity-core:fmt","clarity-core:fmt-fix","clarity-core:pgo-build","clarity-core:pgo-instrument","clarity-core:pgo-optimize","clarity-core:pgo-profile","clarity-core:quick","clarity-core:release","clarity-core:release-ci","clarity-core:server","clarity-core:test","clarity-core:test-doc","clarity-core:test-unit"],"toolchains":["rust"]}