# Dioxus configuration file
# See https://dioxuslabs.com/learn/0.5/reference

[application]
# App name
name = "Clarity"

# Default platform
default_platform = "web"

# Build configuration
[web.app]
# HTML title
title = "Clarity"

[web.watcher]
# Watch for changes in these paths
watch_path = ["src"]

# Reload on these file changes
reload_html = true
watch_style = true

# Additional resource paths
resource_path = ["public", "assets"]

[web.resource]
# CSS files
style = ["public/style.css"]

# JavaScript files
script = []

[web.devtools]
# Enable DevTools
devtools = true

# Auto-open browser
personal_ssl_port = 8080

[web.compiler]
# Enable hot reload
hot_reload = true

# Optimize for debug builds
optimize_on_watch = false

# ============================================================================
# DESKTOP BUNDLE CONFIGURATION
# ============================================================================
# This section configures asset bundling for desktop builds (Linux, macOS, Windows)

[bundle]
# App identifier (reverse domain notation)
identifier = "com.clarityapp"

# Publisher name
publisher = "Clarity"

# Icon files for different platforms
icon = [
    "assets/icons/icon.png",    # Linux/Windows
    "assets/icons/icon.svg",    # Fallback SVG icon
]

# Additional resources to bundle
resources = [
    "assets/responsive.css",
    "assets/icons/",
]

# Copyright notice
copyright = "Copyright (c) 2025 Clarity contributors"

# Category (Linux)
category = "Development"

# Short description
short_description = "A modern interview and documentation management app"

# Long description
long_description = """
Clarity is a modern desktop application for managing interviews,
documentation, and development workflows. Built with Dioxus and Rust.
"""

# Platform-specific settings

# Linux/Debian settings
[bundle.deb]
depends = ["libwebkit2gtk-4.1-0", "libgtk-3-0"]
provides = ["clarity"]
section = "devel"
priority = "optional"

# macOS settings
[bundle.macos]
minimum_system_version = "10.15"
frameworks = ["WebKit"]
hardened_runtime = true

# Windows settings
[bundle.windows]
webview_install_mode = { DownloadBootstrapper = { silent = false } }
